{
  "comments": [
    {
      "key": {
        "uuid": "3f1d235d_b23513fa",
        "filename": "WallpaperPicker/src/com/android/launcher3/WallpaperCropActivity.java",
        "patchSetId": 2
      },
      "lineNbr": 701,
      "author": {
        "id": 3134
      },
      "writtenOn": "2015-09-08T01:17:18Z",
      "side": 1,
      "message": "Since \"if (roundedTrueCrop.width() \u003e fullSize.getWidth())\" above adjust the size to the same width (or height in the block below), left should be reset to be 0. Otherwise left + width will be \u003e than original image width.",
      "range": {
        "startLine": 701,
        "startChar": 52,
        "endLine": 701,
        "endChar": 53
      },
      "revId": "e52995056c0cdf21c75e337980ea0ecff247aa3e",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f1a1f67_dc3a0133",
        "filename": "WallpaperPicker/src/com/android/launcher3/WallpaperCropActivity.java",
        "patchSetId": 2
      },
      "lineNbr": 704,
      "author": {
        "id": 12937
      },
      "writtenOn": "2015-09-11T21:04:13Z",
      "side": 1,
      "message": "Whats the point of this block? I know it\u0027s not your code, but I\u0027m getting adjustment \u003d\u003d 0 ever time (unless right-width is negative) which means left isn\u0027t being touched.\n\nIf I\u0027m reading the code correctly, the math is still off.\n\nIf this block\u0027s purpose is to shift the crop rectangle left to fit within the original image, perhaps the adjustment should be changed to be (rounded.right - full.right) or (rounded.left - full.left). That way the final left/right fit within the image itself. I think the adjustment based of the right value is better because the width won\u0027t always be the same as the full width (r.left - f.left !\u003d r.right - f.right).",
      "revId": "e52995056c0cdf21c75e337980ea0ecff247aa3e",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f1a1f67_fcd93df4",
        "filename": "WallpaperPicker/src/com/android/launcher3/WallpaperCropActivity.java",
        "patchSetId": 2
      },
      "lineNbr": 704,
      "author": {
        "id": 3134
      },
      "writtenOn": "2015-09-11T21:36:47Z",
      "side": 1,
      "message": "This code is the point of my patch, but without the \"\u003e\u003d\" is never enters here. This code tries to adjust the width to avoid the left + width of the crop view doesn\u0027t be bigger than the with of the bitmap itself. This block tries to adjust left and right to fit into fullsize bitmap width\n\nOtherwise you will get the IllegalArgumentException in Bitmap#createBitmap() [http://developer.android.com/reference/android/graphics/Bitmap.html#createBitmap%28android.graphics.Bitmap,%20int,%20int,%20int,%20int%29]",
      "parentUuid": "1f1a1f67_dc3a0133",
      "revId": "e52995056c0cdf21c75e337980ea0ecff247aa3e",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f1a1f67_c876bb3f",
        "filename": "WallpaperPicker/src/com/android/launcher3/WallpaperCropActivity.java",
        "patchSetId": 2
      },
      "lineNbr": 704,
      "author": {
        "id": 12937
      },
      "writtenOn": "2015-09-13T11:06:33Z",
      "side": 1,
      "message": "I agree that the \"\u003e\u003d\" is 100% necessary. What I\u0027m trying to get at is that the math inside this block looks incorrect.\n\nConsider the following (width only):\nOriginal [left \u003d 0, right \u003d 10, width \u003d right-left \u003d 10]\nCrop [left \u003d 3, right \u003d 14, width \u003d right-left \u003d 11]\n- The first block sets right\u003d13 (3+10)\n- The second block (is now entered because crop.right \u003e\u003d orignal.width)\n- adjustment \u003d crop.left - max(0, crop.right - crop.width) \u003d 3 - max(0, 13 - 10) \u003d 3 - 3 \u003d 0\n- crop.left and crop.right stay the same position, with values outside the original image.\n\nIf you were to change this calculation for adjustment, to say (crop.right - original.right), it would allow for the adjustment to push the crop bounds within the original image.",
      "parentUuid": "1f1a1f67_fcd93df4",
      "revId": "e52995056c0cdf21c75e337980ea0ecff247aa3e",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    }
  ]
}